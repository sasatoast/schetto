# 📌 開発ルール（Git運用方針）

本リポジトリでは，以下のブランチ戦略（Git Flow）を採用しています．

## master ブランチ
- 本番リリース用のブランチです．
- 通常，直接コミットやマージは行わず，`develop`ブランチからのマージのみ許可されます．

## develop ブランチ
- 開発用のメインブランチです．
- 開発中の機能はすべて `develop` にマージされます．
- **コードが安定し，リリース準備が整ったら** `main` にマージします．
- リリース前の最新バージョンはこのブランチに存在します．

## feature ブランチ
- 新機能の開発に使用します．
- `develop` ブランチから分岐し，開発が完了したら `develop` にプルリクエストを作成します。
- feature/○○でブランチ作成
- ブランチ名の命名規則例：feature/PlayerMovement
- **プルリクエストは自己マージせず，他のメンバーによるレビューとマージを依頼してください．**

---

# コミットメッセージのルール
コミットメッセージはプロジェクトの履歴を読みやすく保つために**形式を統一**します．  
以下の書式をベースに記述してください：

## タイプ一覧（基本）

| タイプ        | 用途の説明                                |
|---------------|-----------------------------------------|
| add           | 新機能の追加                             |
| fix           | バグ修正                                 |
| refactor      | リファクタリング（動作変更なし）           |
| test          | テストコードの追加・修正                  |
| chore         | ビルド設定や補助ツールの変更など           |
| perf          | パフォーマンス改善                        |

## 例
- `add: プレイヤのジャンプアクションを実装`
- `fix: 敵キャラが壁に引っかかるバグを修正`
- `refactor: プレイヤの移動処理をStateパターンに整理`
- `chore: BGM素材をAssetsに追加（未使用）` 
- `perf: アニメーション再生の最適化`

## 補足
- コミットの粒度は「1つの目的につき1コミット」が原則

---

# コードレビューの流れ

1. **feature ブランチで開発**
2. 開発が完了したら，**`develop` へのプルリクエストを作成**
3. チームメンバーがレビューし，必要に応じて修正
4. レビューを通過したら**自分以外のメンバー**が `develop` にマージ

レビューのチェック項目例：
- コードの可読性・命名規則
- 機能仕様の遵守
- 不要なファイルやコメントの除去
- 安全性（例：nullチェック，例外処理など）

---

# コーディング規約

## 命名規則

- **ページ名**：全て小文字
  - `src/app/home/page.tsx`
- **コンポーネント名**：パスカルケース
  - `feature/StartButton/StartButton.tsx` 
- **クラス名**：パスカルケース（名詞）
  - `public class Customer`
- **メソッド名**：パスカルケース（動詞または動詞句）
  - `public void SaveCustomerData()`
- **ローカル変数名**：キャメルケース
  - `string customerName;`
- **プライベートフィールド**：アンダースコア + キャメルケース
  - `private int _totalAmount;`
- **パブリックフィールド**：パスカルケース
  - `public string CustomerName;`
- **定数名**：すべて大文字 + アンダースコア
  - `public const int MAX_VALUE = 100;`
- **二文字の名前**：すべて大文字
  - `string SE;`

## メソッド命名規則（prefix/suffix）

| Prefix      | 用途                         | 戻り値             |
|-------------|------------------------------|--------------------|
| is          | 状態チェック                 | bool               |
| can         | 動作可能かの判定             | bool               |
| try         | 実行を試み，失敗ならエラー   | 動作 or エラー     |
| start       | 非同期処理の開始             | なし or コルーチン |
| stop        | 非同期処理の停止             | なし               |
| on          | イベント発生時の処理         | なし               |
| add/remove  | コレクションの追加・削除     | なし               |
| ensure      | 状態確認，失敗ならエラー     | true or エラー     |
| init        | 初期化処理                   | なし               |

- **Suffix**：
  - `Internal`：内部メソッド（例：playBgmInternal）

## クラス命名（用途別サフィックス）

| サフィックス | 用途                   |
|--------------|------------------------|
| Manager      | データ管理             |
| Loader       | データロード（CSVなど） |
| Base         | 継承元クラス           |

## コードフォーマット

- インデント：**タブまたはスペース4つ**
- **ブレースは新しい行に配置**
  ```csharp
  if (true)
  {
      // 処理
  }

- 演算子の前後、カンマの後には空白を入れること
  - 例）int sum = a + b; 
  - 例）var numbers = new[] { 1, 2, 3, 4 };

## コメント
- メソッドはサマリコメントを使用すること
- メソッド名などの上で/(スラッシュ)を3回打つことで、自動的に入力される
  ```csharp
  /// <summary>
   /// コメント
   /// </summary>
   public void SaveCustomerData()

- 必要な場合は、インラインコメントを使用してコードの意図を説明すること
  ```csharp
  // 2つの値の合計を計算
  int sum = a + b; 

## コーディングスタイル
- 同じ処理が複数箇所で繰り返される場合、それを関数化して再利用すること
- 条件式が長くなる場合，それも関数化して再利用すること

## 使用禁止事項
- プロジェクト名、ファイル名、変数名には日本語を使用しない
- プロジェクト名、ファイル名、変数名には以下の特殊文字を使用しない
  ```csharp
    : !@#$%^&*()+=[]{}|;:'",<>/?
  
